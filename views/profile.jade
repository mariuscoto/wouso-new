extends layout

block content
  .row
    - if (!user)
      h4= __('profile_alert_login')

    - else
      h3= __('profile_title')

      if (user && !user.facebook.id && mysettings['login-fb'] === 'true')
        a(href='/connect/facebook')= __('profile_connect_facebook')
        br
      if (user && !user.twitter.id && mysettings['login-tw'] === 'true')
        a(href='/connect/twitter')= __('profile_connect_twitter')
        br
      if (user && !user.google.id && mysettings['login-gp'] === 'true')
        a(href='#', onclick='gapi.auth.signIn({callback: signInCallback})')= __('profile_connect_google')
        br
      if (user && !user.github.id && mysettings['login-gh'] === 'true')
        a(href='/connect/github')= __('profile_connect_github')
        br

      br
      h3= __('profile_title_badges')
      - each badge in badges
        h3= badge.name + ' (' + badge.history[0].count + ')'

      br
      h3= __('profile_title_info')
      - if (user)
        | ID: #{user._id} <br>
        | ROLE: #{user.role} <br>

      - if (user && user.local.email)
        b Local data <br>
        | Email: #{user.local.email} <br>

      - if (user && user.facebook.id)
        b Facebook <br>
        | #{user.facebook.name} (id: #{user.facebook.id}) <br>
        | Email: #{user.facebook.email} <br>
        | Token: #{user.facebook.token} <br>

      - if (user && user.twitter.id)
        b Twitter <br>
        | #{user.twitter.displayName} (id: #{user.twitter.id}) <br>
        | Username: #{user.twitter.username} <br>
        | Token: #{user.twitter.token} <br>

      - if (user && user.google.id)
        b Google <br>
        | #{user.google.name} (id: #{user.google.id}) <br>
        | Email: #{user.google.email} <br>
        | Avatar: #{user.google.avatar} <br>
        | Token: #{user.google.token} <br>

      - if (user && user.github.id)
        b GitHub <br>
        | #{user.github.name} (id: #{user.github.id}) <br>
        | Email: #{user.github.email} <br>
        | Token: #{user.github.token} <br>
